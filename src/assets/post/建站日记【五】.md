---

title: WebDiary_five
tags:
    - web
    - diary
addTime: 1628924304197 

---
# 建站日记【五】
[[toc]]
## container
今天想给container做个展开效果，发现jQuery本身就有一个实现`$().slidDown()`，于是我给i标签绑定了一个click事件，并在里边设置了slidDown的动画效果，但不知为什么click事件总是绑定不上，直接使用`.click`不行，我就试着用`.on`，发现这样也不行，后来察觉到因为container元素有被重新渲染，所有jQuery就捕捉不到他了，解决方法是选择一个不会被重新渲染的dom结构，在这里我选择了`body`标签，最后的效果就出来啦！
<!-- more -->
### 代码
::: primary wrapped {代码如下}
```js
$("body").on("click", "i.pullDown", function () {
        $("body i.pullDown").toggleClass("fa-chevron-down");
        $("body i.pullDown").toggleClass("fa-chevron-left");
        $("div.wrapped div:nth-child(2)").slideToggle();
      });
```
:::


### 注意⚠️
接下来我对container插件做了下设置，当`:::`中有wrapped的时候，就会显示箭头，并绑定上点击事件。 此外`:::`后必须跟上`{}`，大括号内的内容表示该容器的名称


## 目录
今天还试着做了下文章目录，思路是获取当前文章的`h2-h6`的所有标签的内容，再遍历地打印出来，由于是新建立了一个Cate组件，所欲需要跨组件传递参数，我自己用官方提供的store模式写了下，没有成功...所以就换用了官方的Vuex，感觉我这么小的项目用这个不太合适，但是考虑到可以用vue-devtool，调试还是蛮方便的。
### jquery抓取结构
在用jquery抓取h标签的时候，一开始怎么都抓去不到，想了想还是因为动态组件的原因，jquery只有在最开始dom结构创建的时候才被执行一次，这样会错过时机，于是我通过watch节点，监听了Cate组件里用于保存标题结构的对象cateList，每当这个对象改变的时候，就调用jquert选择器。
#### 踩的坑
另外还踩了个坑，当我使用v-for对cateList这个对象做遍历的时候，怎么都遍历不到元素，后来查了下，发现v-for的便利结构和js内置的便利结构不太一样，下面这个事js的
```js
for(let i in obj){
    console.log(`${i} : ${obj[i]}`)
}
```
而v-for的是这样
```js
<template v-for="(value, key, index) in obj">
{{key}} : {{value}}
</template>
```


## 测试
下面是目录测下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试

### test
下面是目录测下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试下面是目录测试